{% extends "layout.html" %}

{% block title %}
    Reviews
{% endblock %}

{% block main%}

<div class="beans_container">
    <div class="header">
        <h1>Reviews</h1>
        <div class="break_line"></div>
        <p>In this section, you can add personal reviews for your beans!</p>
    </div>
    <div class="review_container">
        <form action="/reviews" method="post" id="ReviewForm">
            <fieldset><legend>Review</legend>
                <label for="Bean">Which bean do you want to review?</label>
                <select name="Bean" id="review_bean">
                    <option value="/" disabled selected>Choose coffee bean</option>
                    {% for row in name_options %}
                    <option value="{{ row['bean_name'] }}">{{ row['bean_name'] }}</option>
                    {% endfor %}
                </select>
            
                <label for="aroma">Aroma</label>
                <input type="number" id="aroma" name="Aroma" placeholder="5" required min="0" max="10" step="0.5">

                <label for="acidity">Acidity</label>
                <input type="number" id="acidity" name="Acidity" placeholder="5" required min="0" max="10" step="0.5">
                
                <label for="sweetness">Sweetness</label>
                <input type="number" id="sweetness" name="Sweetness" placeholder="5" required min="0" max="10" step="0.5">

                <label for="body">Body</label>
                <input type="number" id="body" name="Body" placeholder="5" required min="0" max="10" step="0.5">

                <label for="Flavor">Flavor</label>
                <input type="number" id="flavor" name="Flavor" placeholder="5" required min="0" max="10" step="0.5">              
            
            </fieldset>
            <fieldset><legend>Overall</legend>
                <label for="overall">Overall score</label>
                <input type="number" id="overall" name="Overall" placeholder="10" min="0" max="10" step="0.1">
                
                <label for="review_comments"></label>
                <textarea id="review_comments" name="Review_comments" placeholder="..."  rows="5" cols="30"></textarea>
            </fieldset>
            <button type="submit" class="btn btn-dark">
                Submit review
            </button>                                
        </form>
    </div>
    {% if empty == "no" %}
    <div id="reviews_table">
        <div class="header">
            <h1>Overview of your reviews</h1>
            <div class="break_line"></div>
        </div> 
        <table class="table table-striped table-responsive table-hover" id="myreviews">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Name</th>
                    <th scope="col">Aroma</th>
                    <th scope="col">Acidity</th>
                    <th scope="col">Sweetness</th>
                    <th scope="col">Body</th>
                    <th scope="col">Flavor</th>
                    <th scope="col">Overall</th>
                    <th scope="col">Comments</th>
                </tr>
            </thead>
            <tbody>
                {% for row in review_data %}
                <tr>
                    <td scope="row" class="countercell"></td>
                    <td>{{ row['bean'] }}</td>
                    <td>{{ row['aroma'] }}</td>
                    <td>{{ row['acidity'] }}</td>
                    <td>{{ row['sweetness'] }}</td>
                    <td>{{ row['body'] }}</td>
                    <td>{{ row['flavor'] }}</td>
                    <td>{{ row['overall'] }}</td>
                    <td>{{ row['comments'] }}</td>
                </tr>      
                {% endfor %}     
            </tbody>
            <tfoot>
            </tfooter>
        </table>
    {% else %}
    <div id="no_review">
        <h3>No reviews yet!</h3>
        <p>Add your <a href="#">first review</a></p>
    </div>
    {% endif %}
    </div>


</div>

{% endblock %}